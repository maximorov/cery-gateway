http:
  routers:
    # services
    user-ms:
      entryPoints:
        - web
      service: cmr-ms
      rule: "Host(`user-ms.cery.local`)"
    cmr-ms:
      entryPoints:
        - web
      service: cmr-ms
      rule: "Host(`cmr-ms.cery.local`)"
    garage-ms:
      entryPoints:
        - web
      service: garage
      rule: "Host(`garage-ms.cery.local`)"
    # api
    api:
      rule: "Host(`traefik.cery.local`)"
      entryPoints:
        - traefik
      service: api@internal
      middlewares:
        - auth

  services:
    user-ms:
      loadBalancer:
        servers:
          - url: "http://localhost:8081"
    cmr-ms:
      loadBalancer:
        servers:
          - url: "http://localhost:8082"
    garage:
      loadBalancer:
        servers:
          - url: "http://localhost:8083"

  middlewares:
    auth:
      basicAuth:
        users:
          - "admin:$apr1$WIsqq2X4$j71KVDK0XNLr920rGZN6l0" # cerytrafiekultimatepassword